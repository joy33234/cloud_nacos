<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.seektop.fund.mapper.GlRechargeErrorMapper">
    <resultMap id="BaseResultMap" type="com.seektop.fund.model.GlRechargeError">
        <!--
          WARNING - @mbg.generated
        -->
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="user_type" jdbcType="INTEGER" property="userType"/>
        <result column="username" jdbcType="VARCHAR" property="username"/>
        <result column="os_type" jdbcType="INTEGER" property="osType"/>
        <result column="channel_id" jdbcType="INTEGER" property="channelId"/>
        <result column="channel_name" jdbcType="VARCHAR" property="channelName"/>
        <result column="merchant_code" jdbcType="VARCHAR" property="merchantCode"/>
        <result column="error_status" jdbcType="INTEGER" property="errorStatus"/>
        <result column="recharge_date" jdbcType="TIMESTAMP" property="rechargeDate"/>
        <result column="order_id" jdbcType="VARCHAR" property="orderId"/>
    </resultMap>

    <resultMap id="OrderFailResultMap" type="com.seektop.fund.vo.RechargeMonitorResult">
        <result column="channel_id" jdbcType="INTEGER" property="channelId"/>
        <result column="error_status" jdbcType="INTEGER" property="retStatus"/>
        <result column="recharge_date" jdbcType="TIMESTAMP" property="createDte"/>
    </resultMap>

    <select id="getRecentHundredErrorOrder" parameterType="map" resultMap="OrderFailResultMap">
        select channel_id, recharge_date, error_status
        from gl_recharge_error
        where recharge_date &gt;= #{startDate} and channel_id = #{channelId}
        order by recharge_date desc
    </select>
</mapper>